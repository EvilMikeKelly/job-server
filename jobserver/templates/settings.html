{% extends "base-tw.html" %}

{% block metatitle %}Settings | OpenSAFELY Jobs{% endblock metatitle %}

{% block breadcrumbs %}
  {% #breadcrumbs %}
    {% url 'home' as home_url %}
    {% breadcrumb title="Home" url=home_url %}

    {% url 'settings' as settings_url %}
    {% breadcrumb location=settings_url title="Settings" active=True %}
  {% /breadcrumbs %}
{% endblock breadcrumbs %}

{% block content %}
  <section class="grid md:grid-cols-3">
    <h1 class="md:col-span-3 text-3xl break-all md:bread-words md:text-4xl font-bold text-slate-900">
      Settings
    </h1>

    {% if not form.fullname.value %}
      {% #alert variant="warning" title="Update needed" class="md:col-span-2 mt-4" %}
        Your OpenSAFELY profile is missing information, please add your name to your account.
      {% /alert %}
    {% endif %}

    <form method="POST" class="md:col-span-2 mt-6">
      {% csrf_token %}

      {% #card title="Your account" class="w-full" container_class="flex flex-col gap-y-4 items-start" container %}
        {% form_input class="min-w-full" value=form.fullname.value name="fullname" label="Full name" type="text" required %}
        {% form_input class="min-w-full" value=form.notifications_email.value name="notifications_email" label="Notification email" type="email" required %}
        {% #button type="submit" variant="primary" %}
          Save your settings
        {% /button %}
      {% /card %}
    </form>
  </section>
{% endblock %}
